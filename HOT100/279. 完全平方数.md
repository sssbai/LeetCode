# [279. 完全平方数](https://leetcode.cn/problems/perfect-squares/description/?envType=study-plan-v2&envId=top-100-liked)

给你一个整数 `n` ，返回 和为 `n` 的完全平方数的最少数量 。

**完全平方数**  是一个整数，其值等于另一个整数的平方；换句话说，其值等于一个整数自乘的积。例如，`1`、`4`、`9` 和 `16` 都是完全平方数，而 `3` 和 `11` 不是。

**示例1：** 

```
**输入：** n = `12`
**输出：** 3 
**解释：** `12 = 4 + 4 + 4````

**示例 2：** 

```
**输入：** n = `13`
**输出：** 2
**解释：** `13 = 4 + 9````

**提示：** 

- `1 <= n <= 10^4`

## Solution

记忆化搜索

## Code

```c++
class Solution {
public:
    // 递归函数 dfs：返回组成 n 所需的最少完全平方数的数量
    int dfs(vector<int>& mem, int n) {
        // 基本情况：n 为 0 时，不需要任何数
        if (n == 0) return 0;

        // 使用引用来减少拷贝，取出 mem[n]
        int& res = mem[n];

        // 如果已经计算过，直接返回缓存值
        if (res != -1) return res;

        int count = INT32_MAX;

        // 遍历所有小于等于 sqrt(n) 的完全平方数 i*i
        for (int i = 1; i <= sqrt(n); i++) {
            // 尝试减去 i*i，并加上一次选择，再求最小值
            count = min(count, dfs(mem, n - i * i) + 1);
        }

        // 将结果存入备忘录
        res = count;

        return count;
    }

    // 主函数
    int numSquares(int n) {
        // 初始化记忆数组，-1 表示尚未计算
        vector<int> mem(n + 1, -1);

        // 启动递归
        return dfs(mem, n);
    }
};

```

