# [22. 括号生成](https://leetcode.cn/problems/generate-parentheses/description/?envType=study-plan-v2&envId=top-100-liked)

数字 `n`代表生成括号的对数，请你设计一个函数，用于能够生成所有可能的并且 **有效的 ** 括号组合。

**示例 1：** 

```
**输入：** n = 3
**输出：** ["((()))","(()())","(())()","()(())","()()()"]
```

**示例 2：** 

```
**输入：** n = 1
**输出：** ["()"]
```

**提示：** 

- `1 <= n <= 8`

## Solution

回溯

## Code

```c++
class Solution {
public:
    vector<string> res; // 用于存放所有合法的括号组合结果

    // 深度优先搜索函数
    // path: 当前构造的括号字符串
    // left: 剩余可以使用的左括号数量
    // right: 剩余可以使用的右括号数量
    void dfs(string path, int left, int right){
        // 如果左右括号都用完，说明构造完成一个合法的组合
        if(left == 0 && right == 0){
            res.push_back(path); // 加入结果集
            return;
        }

        // 如果还有左括号可用，继续添加左括号
        if(left > 0)
            dfs(path + "(", left - 1, right);

        // 只有当右括号数量大于左括号时，才能添加右括号
        // 保证构造过程中右括号不会多于左括号（合法性约束）
        if(left < right)
            dfs(path + ")", left, right - 1);
    }

    // 主函数，生成 n 对括号的所有合法组合
    vector<string> generateParenthesis(int n) {
        dfs("", n, n); // 从空串开始，左右括号各 n 个
        return res;
    }
};

```

